<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>
     Rule: SC1-4-1-link-style-in-text - Auto-WCAG Rules
  </title>
  <meta name="description" content="Description">

  <link rel="stylesheet" href="/auto-wcag/assets/css/main.css">
  <link rel="canonical" href="http://auto-wcag/github.io//auto-wcag/drafts/SC1-4-1-link-style-in-text.html">
  <link rel="stylesheet" href="/auto-wcag/assets/css/bootstrap.min.css">
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="/auto-wcag/">
        Auto-WCAG
      </a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">

        <li><a href="/auto-wcag/pages/rules.html">Rules</a></li>
        <li><a href="/auto-wcag/pages/drafts.html">Drafts</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
            Rule Creation
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/auto-wcag/pages/design/rule-design.html">
              Rule design
            </a></li>
            <li><a href="/auto-wcag/pages/design/review.html">
              Review process
            </a></li>
            <li><a href="/auto-wcag/pages/design/rule-template.html">
              Rule template
            </a></li>
            <li><a href="/auto-wcag/pages/design/test-template.html">
              Test case template
            </a></li>
            <li><a href="/auto-wcag/pages/design/style-guide.html">
              Style guide
            </a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
            Rule Structure
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/auto-wcag/pages/structure/terminology.html">
              Terminology
            </a></li>
            <li><a href="/auto-wcag/pages/structure/test-modes.html">
              Test modes
            </a></li>
            <li><a href="/auto-wcag/pages/algorithms/">
              Algorithms
            </a></li>
            <li><a href="/auto-wcag/pages/structure/aggregation.html">
              Result aggregation
            </a></li>
            <li><a href="/auto-wcag/pages/structure/user-questions.html">
              User questions
            </a></li>
            <li><a href="/auto-wcag/pages/structure/accessibility-support.html">
              Accessibility support
            </a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
            About Auto-WCAG
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/auto-wcag/pages/about.html">
              About Us
            </a></li>
            <li><a href="/auto-wcag/pages/contribute.html">
              How to contribute
            </a></li>
            <li><a href="https://github.com/auto-wcag/auto-wcag/">GitHub repository</a></li>
          </ul>
        </li>

      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<main class="container">
  
    <h1>Rule: SC1-4-1-link-style-in-text</h1>
  

  

  
  <p class="draft-note"><strong>Please note, this is a draft</strong></p>



  <p>Late updated: <time datetime="2018-04-12T21:23:09+01:00" itemprop="datePublished">Apr 12, 2018</time></p>



  <p>Created by: <a href="https://github.com/wilcofiers">Wilco Fiers</a></p>





  <h2 id="requirements">Accessibility Requirements</h2>
  <p>This conformance rule relates to:</p>
  <ul>
  
    
    <li>
      <a href="https://www.w3.org/TR/WCAG20/#wcag20:visual-audio-contrast-without-color">
        Success Criterion 1.4.1 (Use of Color)
      </a>
      <ul>
        <li><a href="https://www.w3.org/WAI/WCAG20/quickref/#wcag20:visual-audio-contrast-without-color">
          How to Meet 1.4.1 (Use of Color)
        </a></li>
        <li><a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/wcag20:visual-audio-contrast-without-color.html">
          Understanding Success Criterion 1.4.1 (Use of Color)
        </a></li>
      </ul>
    </li>
  
  </ul>


<h2 id="description">Description</h2>

<p>This rule checks that links that are embedded in a block of text can be distinguished in a way that does not rely exclusively on color. If this is the case, the link can only pass if the color contrast is sufficient, and additional cues are given when the link receives focus or hover.</p>

<h2 id="background">Background</h2>

<ul>
  <li><a href="http://www.w3.org/TR/2014/NOTE-WCAG20-TECHS-20140311/F73.html">F73: Failure of Success Criterion 1.4.1 due to creating links that are not visually evident without color vision</a></li>
  <li><a href="http://www.w3.org/TR/2013/NOTE-WCAG20-TECHS-20130905/G183">G183: Using a contrast ratio of 3:1 with surrounding text and providing additional visual cues on focus for links or controls where color alone is used to identify them</a></li>
  <li><a href="http://www.w3.org/TR/2014/NOTE-WCAG20-TECHS-20140916/C15:">C15: Using CSS to change the presentation of a user interface component when it receives focus</a></li>
  <li><a href="http://www.w3.org/TR/WCAG20/#contrast-ratiodef">Color contrast (WCAG 2.0 definition)</a></li>
  <li><a href="https://dequeuniversity.com/rules/worldspace/2.0/link-in-text-block">Axe-core implementation of link-in-text-block</a></li>
</ul>

<h2 id="assumptions">Assumptions</h2>

<ul>
  <li>This test assumes that the 3:1 contrast difference between text is minimal to what would be sufficient to meet WCAG 2.0. This value is part of technique G183, but is not specified in the 1.4.1 success criterion.</li>
  <li>This tests assumes that one of the following shorthand CSS properties (or the related expanded properties e.g. <code class="highlighter-rouge">background-color</code>) is used to make the link visually evident: <code class="highlighter-rouge">background</code>, <code class="highlighter-rouge">color</code>, <code class="highlighter-rouge">font</code>, or <code class="highlighter-rouge">text-decoration</code>.</li>
  <li>This test assumes that any change in font is sufficiently distinguishable, and that fonts are loaded when they are present.</li>
  <li>Use of a <code class="highlighter-rouge">border</code>, of 1 or more pixels, not set to none, and not with a color of transparent, is assumed to be sufficiently distinguishable</li>
</ul>

<h2 id="test-procedure">Test procedure</h2>

<p><em>Note</em>: Tools only able to process HTML + CSS can implement the first two step and ignore step 3 through 4, returning ‘cantTell’ instead. A tool could ask the user to perform step 3 and 4 manually, in which case the test would be semi-automatic instead.</p>

<h3 id="selector">Selector</h3>

<ol>
  <li>
    <p>Select all elements that matches the following CSS selector:</p>

    <p>a[href]:not(role), *[role=link]</p>
  </li>
  <li>
    <p>Remove any elements who’s <code class="highlighter-rouge">textContent</code> property is <a href="../pages/algorithms/none-empty.html">non-empty</a> text</p>
  </li>
  <li>
    <p>Remove any elements who’s nearest <a href="#block-like-element">block-like ancestor</a> does NOT have:</p>

    <ul>
      <li><a href="../pages/algorithms/none-empty.html">non-empty</a> <a href="../pages/algorithms/rendered-text.html">rendered text</a> that is NOT contained in any link, and which does not exclusively consist of [separator characters][separator-characters]</li>
    </ul>
  </li>
</ol>

<p>For each selected item, go through the following steps:</p>

<h3 id="step-1-initial-state">Step 1: Initial state</h3>

<p>Check that the link (or another element that contains all that link’s content) has a distinguishing <a href="#distinguishing-style">style</a>, a <a href="#distinguishing-border">distinguishing border</a>, or a <code class="highlighter-rouge">background-image</code>.</p>

<p>If yes, return <a href="#step1-pass">step1-pass</a></p>

<p>Else continue with <a href="#step-2-link-contrast">Step 2</a></p>

<h3 id="step-2-link-contrast">Step 2: Link contrast</h3>

<p>Determine <code class="highlighter-rouge">color</code> and <code class="highlighter-rouge">background-color</code> of the link and it’s block-like ancestor. If the background-color is transparent, locate the closest underlying element that does have a <code class="highlighter-rouge">background-color</code> and use that value. (GetElementsFromPoint can be used for this.)</p>

<ol>
  <li>
    <p>C1 = contrast difference of surrounding text <code class="highlighter-rouge">color</code> and link <code class="highlighter-rouge">color</code></p>
  </li>
  <li>
    <p>C2 = contrast difference surrounding text <code class="highlighter-rouge">background-color</code> and link <code class="highlighter-rouge">background-color</code></p>
  </li>
</ol>

<p>If C1 or C2 is more than 3:1, continue with <a href="#step-3-focus-state">Step 3</a></p>

<p>Else continue with [Step 5][#step-5]</p>

<h3 id="step-3-focus-state">Step 3: focus state</h3>

<p>Give focus to the link.</p>

<p>Check that the focused link has a <a href="#distinguishing-border">distinguishing border</a>, a <code class="highlighter-rouge">background-image</code>, or a <a href="#distinguishing-style">distinguishing style</a>.</p>

<p>If yes, continue with <a href="#step-4-hover-state">Step 4</a></p>

<p>Else continue with [Step 5][#step-5]</p>

<h3 id="step-4-hover-state">Step 4: Hover state</h3>

<p>Remove the focus from the link.</p>

<p>Move the mouse pointer to the center of the link.</p>

<p>Check that the focused link has a <a href="#distinguishing-border">distinguishing border</a>, a <code class="highlighter-rouge">background-image</code>, or a <a href="#distinguishing-style">distinguishing style</a>.</p>

<p>If yes, return <a href="#step4-pass">step4-pass</a></p>

<p>Else continue with [Step 5][#step-5]</p>

<h3 id="step-5">Step 5</h3>

<p>If the user in not available, return <a href="#step5-cannottell">step5-cannottell</a></p>

<p>Else, give the user the following question:</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Highlight</td>
      <td>The selected element</td>
    </tr>
    <tr>
      <td>Question</td>
      <td>Can this link be distinguished from the rest of the text, without relying on the color alone.</td>
    </tr>
    <tr>
      <td>Help</td>
      <td>Links can be made distinguishable in many ways including underlines, the addition of a link icon, or other style changes.</td>
    </tr>
    <tr>
      <td>User profile</td>
      <td>Requires sight</td>
    </tr>
    <tr>
      <td>context</td>
      <td>yes</td>
    </tr>
  </tbody>
</table>

<p>if yes, return  <a href="#step5-pass">step5-pass</a></p>

<p>else, return <a href="#step5-fail">step5-fail</a></p>

<h2 id="outcome">Outcome</h2>

<p>The resulting assertion is as follows,</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>Assertion</td>
    </tr>
    <tr>
      <td>test</td>
      <td>auto-wcag:SC1-4-1-link-style-in-text</td>
    </tr>
    <tr>
      <td>subject</td>
      <td><em>the selected element</em></td>
    </tr>
    <tr>
      <td>mode</td>
      <td>auto-wcag:automatic</td>
    </tr>
    <tr>
      <td>result</td>
      <td><One TestResult="" from="" below=""></One></td>
    </tr>
  </tbody>
</table>

<h3 id="step1-pass">step1-pass</h3>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>TestResult</td>
    </tr>
    <tr>
      <td>outcome</td>
      <td>Passed</td>
    </tr>
  </tbody>
</table>

<h3 id="step4-pass">step4-pass</h3>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>TestResult</td>
    </tr>
    <tr>
      <td>outcome</td>
      <td>Passed</td>
    </tr>
  </tbody>
</table>

<h3 id="step5-cannottell">step5-cannottell</h3>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>TestResult</td>
    </tr>
    <tr>
      <td>outcome</td>
      <td>CannotTell</td>
    </tr>
  </tbody>
</table>

<h3 id="step5-pass">step5-pass</h3>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>TestResult</td>
    </tr>
    <tr>
      <td>outcome</td>
      <td>Passed</td>
    </tr>
  </tbody>
</table>

<h3 id="step5-fail">step5-fail</h3>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>TestResult</td>
    </tr>
    <tr>
      <td>outcome</td>
      <td>Failed</td>
    </tr>
    <tr>
      <td>description</td>
      <td>The link is not sufficiently distinguishable from the surrounding text.</td>
    </tr>
  </tbody>
</table>

<h2 id="algorithms">Algorithms</h2>

<h3 id="block-like-element">Block-like element</h3>

<p>From the element, get the computed CSS value of the <code class="highlighter-rouge">display</code> property.</p>

<p>Check that the value is not <code class="highlighter-rouge">inline</code> or <code class="highlighter-rouge">ruby</code> or starts with <code class="highlighter-rouge">inline-</code> or <code class="highlighter-rouge">ruby-</code>.</p>

<p>If yes, the element is a block-like element.</p>

<h3 id="distinguishing-border">Distinguishing Border</h3>

<p>Look at the <code class="highlighter-rouge">width</code>, <code class="highlighter-rouge">style</code>, and <code class="highlighter-rouge">color</code> of the <code class="highlighter-rouge">border-top</code>, <code class="highlighter-rouge">border-bottom</code> or <code class="highlighter-rouge">outline</code>.</p>

<p>For one of these to be a distinguishing border, all the following must be true:</p>

<ul>
  <li>The <code class="highlighter-rouge">*-width</code> is greater than 0</li>
  <li>The <code class="highlighter-rouge">*-style</code> is not set to <code class="highlighter-rouge">none</code></li>
  <li>The <code class="highlighter-rouge">*-color</code> is not <code class="highlighter-rouge">transparent</code></li>
</ul>

<p>If either <code class="highlighter-rouge">border-top</code>, <code class="highlighter-rouge">border-bottom</code> or <code class="highlighter-rouge">outline</code> is distinguishable, the link has a distinguishing border.</p>

<h3 id="distinguishing-style">Distinguishing Style</h3>

<p>Next, compare the style properties <code class="highlighter-rouge">font-family</code>, <code class="highlighter-rouge">font-weight</code>, <code class="highlighter-rouge">font-style</code>, <code class="highlighter-rouge">text-decoration</code> of the link, to that of the block-like ancestor.</p>

<p>If any of the properties have a different value for the one than for the other, the style is distinguishable.</p>

<h3 id="separator-characters">Separator characters</h3>

<p>A separator character is a character that is used to separate links. This practice is common in things like breadcrumb trails and footers. The following characters are considered separator characters: <code class="highlighter-rouge">/</code>, <code class="highlighter-rouge">\</code>, <code class="highlighter-rouge">|</code> <code class="highlighter-rouge">&gt;</code>, <code class="highlighter-rouge">&lt;</code>, <code class="highlighter-rouge">-</code>, <code class="highlighter-rouge">,</code> <code class="highlighter-rouge">+</code>.</p>





<h2 id="related-resources">Related Resources</h2>
<ul>
  <li><a href="../draft-tests/SC1-4-1-link-style-in-text.test.html">Test cases</a></li>
  <li><a href="https://github.com/auto-wcag/auto-wcag/issues?q=is%3Aopen+is%3Aissue+SC1-4-1-link-style-in-text">Known issues</a></li>
  <li><a href="https://github.com/auto-wcag/auto-wcag/commits/master/_drafts/SC1-4-1-link-style-in-text.md">Previous versions</a></li>
  <li><a href="https://github.com/auto-wcag/auto-wcag/edit/master/_drafts/SC1-4-1-link-style-in-text.md">Propose an update</a></li>
</ul>

</main>

<footer id="footer"><nav class="container"><div class="row">
  <div class="col-sm-4">
    <h2>Rule Creation</h2>
    <ul>
      <li><a href="/auto-wcag/pages/design/rule-design.html">
        Rule design
      </a></li>
      <li><a href="/auto-wcag/pages/design/review.html">
        Review process
      </a></li>
      <li><a href="/auto-wcag/pages/design/rule-template.html">
        Rule template
      </a></li>
      <li><a href="/auto-wcag/pages/design/style-guide.html">
        Style guide
      </a></li>
    </ul>

  </div> <div class="col-sm-4">
    <h2>Rule Structure</h2>
    <ul>
      <li><a href="/auto-wcag/pages/structure/terminology.html">
        Terminology
      </a></li>
      <li><a href="/auto-wcag/pages/structure/test-modes.html">
        Test modes
      </a></li>
      <li><a href="/auto-wcag/pages/algorithms/">
        Algorithms
      </a></li>
      <li><a href="/auto-wcag/pages/structure/aggregation.html">
        Result aggregation
      </a></li>
      <li><a href="/auto-wcag/pages/structure/accessibility-support.html">
        Accessibility support
      </a></li>
    </ul>

  </div> <div class="col-sm-4">
    <h2>About Auto-WCAG</h2>
    <ul>
      <li><a href="/auto-wcag/pages/about.html">
        About Us
      </a></li>
      <li><a href="/auto-wcag/pages/contribute.html">
        How to contribute
      </a></li>
      <li><a href="https://www.w3.org/community/auto-wcag/about-us/">GitHub repository</a></li>
    </ul>
  </div>

</div></nav></footer>

<script src="/auto-wcag/assets/js/jquery.min.js"></script>
<script src="/auto-wcag/assets/js/bootstrap.min.js"></script>
</body>
</html>