<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>
     Rule: SC2-4-7-focus-in-viewport - Auto-WCAG Rules
  </title>
  <meta name="description" content="Description">

  <link rel="stylesheet" href="/auto-wcag/assets/css/main.css">
  <link rel="canonical" href="http://auto-wcag/github.io//auto-wcag/rules/SC2-4-7-focus-in-viewport.html">
  <link rel="stylesheet" href="/auto-wcag/assets/css/bootstrap.min.css">
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="/auto-wcag/">
        Auto-WCAG
      </a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">

        <li><a href="/auto-wcag/pages/rules.html">Rules</a></li>
        <li><a href="/auto-wcag/pages/drafts.html">Drafts</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
            Rule Creation
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/auto-wcag/pages/design/rule-design.html">
              Rule design
            </a></li>
            <li><a href="/auto-wcag/pages/design/review.html">
              Review process
            </a></li>
            <li><a href="/auto-wcag/pages/design/rule-template.html">
              Rule template
            </a></li>
            <li><a href="/auto-wcag/pages/design/test-template.html">
              Test case template
            </a></li>
            <li><a href="/auto-wcag/pages/design/style-guide.html">
              Style guide
            </a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
            Rule Structure
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/auto-wcag/pages/structure/terminology.html">
              Terminology
            </a></li>
            <li><a href="/auto-wcag/pages/structure/test-modes.html">
              Test modes
            </a></li>
            <li><a href="/auto-wcag/pages/algorithms/">
              Algorithms
            </a></li>
            <li><a href="/auto-wcag/pages/structure/aggregation.html">
              Result aggregation
            </a></li>
            <li><a href="/auto-wcag/pages/structure/user-questions.html">
              User questions
            </a></li>
            <li><a href="/auto-wcag/pages/structure/accessibility-support.html">
              Accessibility support
            </a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"
          role="button" aria-haspopup="true" aria-expanded="false">
            About Auto-WCAG
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/auto-wcag/pages/about.html">
              About Us
            </a></li>
            <li><a href="/auto-wcag/pages/contribute.html">
              How to contribute
            </a></li>
            <li><a href="https://github.com/auto-wcag/auto-wcag/">GitHub repository</a></li>
          </ul>
        </li>

      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<main class="container">
  
    <h1>Rule: SC2-4-7-focus-in-viewport</h1>
  

  

  



  <p>Late updated: <time datetime="2018-04-13T10:23:34+01:00" itemprop="datePublished">Apr 13, 2018</time></p>







  <h2 id="requirements">Accessibility Requirements</h2>
  <p>This conformance rule relates to:</p>
  <ul>
  
    
    <li>
      <a href="https://www.w3.org/TR/WCAG20/#wcag20:navigation-mechanisms-focus-visible">
        Success Criterion 2.4.7 (Focus Visible)
      </a>
      <ul>
        <li><a href="https://www.w3.org/WAI/WCAG20/quickref/#wcag20:navigation-mechanisms-focus-visible">
          How to Meet 2.4.7 (Focus Visible)
        </a></li>
        <li><a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/wcag20:navigation-mechanisms-focus-visible.html">
          Understanding Success Criterion 2.4.7 (Focus Visible)
        </a></li>
      </ul>
    </li>
  
  </ul>


<h2 id="description">Description</h2>

<p>This test checks that all elements that receive focus are visible in the viewport.</p>

<h2 id="background">Background</h2>

<ul>
  <li><a href="http://www.w3.org/TR/2014/NOTE-WCAG20-TECHS-20140916/G149">G149: Using user interface components that are highlighted by the user agent when they receive focus</a></li>
  <li><a href="http://www.w3.org/TR/2014/NOTE-WCAG20-TECHS-20140916/C15">C15: Using CSS to change the presentation of a user interface component when it receives focus</a></li>
</ul>

<h2 id="assumptions">Assumptions</h2>

<ul>
  <li>Focus styles are only applied when the focus of browser viewport has the focus of the operating system. Scripts that give focus to elements do not update the style of that element unless the user is focused on this particular viewport in the OS.</li>
</ul>

<h2 id="test-procedure">Test procedure</h2>

<h3 id="selector">Selector</h3>

<p>Select all elements that match the following CSS selector:</p>

<ul>
  <li><code class="highlighter-rouge">a[href]:not([tabindex=-1])</code>,</li>
  <li><code class="highlighter-rouge">button:not([tabindex=-1])</code>,</li>
  <li><code class="highlighter-rouge">select:not([tabindex=-1])</code>,</li>
  <li><code class="highlighter-rouge">textarea:not([tabindex=-1])</code>,</li>
  <li><code class="highlighter-rouge">input:not([tabindex=-1]):not([type=hidden])</code>,</li>
  <li><code class="highlighter-rouge">*[tabindex]:not([tabindex=-1])</code></li>
</ul>

<p>For each selected item, go through the following steps:</p>

<h3 id="step-1">Step 1</h3>

<p>Give focus to the selected element.</p>

<p>Check that the offsetTop is equal or greater than 0 AND that the offset left minus the textIndent is equal or greater than 0</p>

<p>If yes, return <a href="#step1-pass">step1-pass</a></p>

<p>If no, return <a href="#step1-fail">step1-fail</a></p>

<h2 id="outcome">Outcome</h2>

<p>The resulting assertion is as follows,</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>Assertion</td>
    </tr>
    <tr>
      <td>test</td>
      <td>auto-wcag:SC2-4-7-focus-in-viewport</td>
    </tr>
    <tr>
      <td>subject</td>
      <td><em>the selected element</em></td>
    </tr>
    <tr>
      <td>mode</td>
      <td>auto-wcag:automatic</td>
    </tr>
    <tr>
      <td>result</td>
      <td><One TestResult="" from="" below=""></One></td>
    </tr>
  </tbody>
</table>

<h3 id="step1-pass">step1-pass</h3>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>TestResult</td>
    </tr>
    <tr>
      <td>outcome</td>
      <td>Passed</td>
    </tr>
    <tr>
      <td>description</td>
      <td>Â </td>
    </tr>
  </tbody>
</table>

<h3 id="step1-fail">step1-fail</h3>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>TestResult</td>
    </tr>
    <tr>
      <td>outcome</td>
      <td>Failed</td>
    </tr>
    <tr>
      <td>description</td>
      <td>The element should be inside the viewport when it receives focus</td>
    </tr>
  </tbody>
</table>




<h2 id="related-resources">Related Resources</h2>
<ul>
  <li><a href="../rule-tests/SC2-4-7-focus-in-viewport.test.html">Test cases</a></li>
  <li><a href="https://github.com/auto-wcag/auto-wcag/issues?q=is%3Aopen+is%3Aissue+SC2-4-7-focus-in-viewport">Known issues</a></li>
  <li><a href="https://github.com/auto-wcag/auto-wcag/commits/master/_rules/SC2-4-7-focus-in-viewport.md">Previous versions</a></li>
  <li><a href="https://github.com/auto-wcag/auto-wcag/edit/master/_drafts/SC2-4-7-focus-in-viewport.md">Propose an update</a></li>
</ul>

</main>

<footer id="footer"><nav class="container"><div class="row">
  <div class="col-sm-4">
    <h2>Rule Creation</h2>
    <ul>
      <li><a href="/auto-wcag/pages/design/rule-design.html">
        Rule design
      </a></li>
      <li><a href="/auto-wcag/pages/design/review.html">
        Review process
      </a></li>
      <li><a href="/auto-wcag/pages/design/rule-template.html">
        Rule template
      </a></li>
      <li><a href="/auto-wcag/pages/design/style-guide.html">
        Style guide
      </a></li>
    </ul>

  </div> <div class="col-sm-4">
    <h2>Rule Structure</h2>
    <ul>
      <li><a href="/auto-wcag/pages/structure/terminology.html">
        Terminology
      </a></li>
      <li><a href="/auto-wcag/pages/structure/test-modes.html">
        Test modes
      </a></li>
      <li><a href="/auto-wcag/pages/algorithms/">
        Algorithms
      </a></li>
      <li><a href="/auto-wcag/pages/structure/aggregation.html">
        Result aggregation
      </a></li>
      <li><a href="/auto-wcag/pages/structure/accessibility-support.html">
        Accessibility support
      </a></li>
    </ul>

  </div> <div class="col-sm-4">
    <h2>About Auto-WCAG</h2>
    <ul>
      <li><a href="/auto-wcag/pages/about.html">
        About Us
      </a></li>
      <li><a href="/auto-wcag/pages/contribute.html">
        How to contribute
      </a></li>
      <li><a href="https://www.w3.org/community/auto-wcag/about-us/">GitHub repository</a></li>
    </ul>
  </div>

</div></nav></footer>

<script src="/auto-wcag/assets/js/jquery.min.js"></script>
<script src="/auto-wcag/assets/js/bootstrap.min.js"></script>
</body>
</html>